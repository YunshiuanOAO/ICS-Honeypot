{
    "name": "Water Treatment Plant",
    "description": "模擬完整的淨水處理流程，包含進水泵、加藥系統、過濾器和出水檢測",
    "author": "ICS Honeypot Team",
    "version": "1.0",
    "modbus": {
        "registers": [
            {"addr": 0, "name": "inlet_flow", "wave": "random_walk", "min": 100, "max": 500, "step": 20, "description": "進水流量 (m³/h)"},
            {"addr": 1, "name": "outlet_flow", "wave": "random_walk", "min": 95, "max": 490, "step": 20, "description": "出水流量 (m³/h)"},
            {"addr": 2, "name": "tank_level", "wave": "sawtooth", "min": 0, "max": 100, "period": 600, "description": "儲水槽液位 (%)"},
            {"addr": 3, "name": "ph_x100", "wave": "random_walk", "min": 650, "max": 750, "step": 5, "description": "pH 值 x100 (6.5-7.5)"},
            {"addr": 4, "name": "turbidity", "wave": "random_walk", "min": 0, "max": 50, "step": 5, "description": "濁度 (NTU)"},
            {"addr": 5, "name": "chlorine_x100", "wave": "random_walk", "min": 50, "max": 150, "step": 5, "description": "餘氯 x100 (mg/L)"},
            {"addr": 6, "name": "water_temp_x10", "wave": "sine", "min": 150, "max": 300, "period": 43200, "description": "水溫 x10 (°C)"},
            {"addr": 7, "name": "inlet_pressure", "wave": "random_walk", "min": 200, "max": 400, "step": 10, "description": "進水壓力 (kPa)"},
            {"addr": 8, "name": "outlet_pressure", "wave": "random_walk", "min": 180, "max": 380, "step": 10, "description": "出水壓力 (kPa)"},
            {"addr": 9, "name": "conductivity", "wave": "random_walk", "min": 200, "max": 800, "step": 30, "description": "電導度 (μS/cm)"}
        ],
        "coils": [
            {"addr": 0, "name": "inlet_pump", "wave": "fixed", "value": true, "description": "進水泵運行"},
            {"addr": 1, "name": "outlet_pump", "wave": "fixed", "value": true, "description": "出水泵運行"},
            {"addr": 2, "name": "dosing_pump", "wave": "square", "on": 300, "off": 60, "description": "加藥泵運行"},
            {"addr": 3, "name": "mixer", "wave": "fixed", "value": true, "description": "攪拌器運行"},
            {"addr": 4, "name": "uv_lamp", "wave": "fixed", "value": true, "description": "UV 消毒運行"},
            {"addr": 5, "name": "high_level_alarm", "wave": "random", "probability": 0.01, "description": "高液位警報"},
            {"addr": 6, "name": "low_level_alarm", "wave": "random", "probability": 0.01, "description": "低液位警報"},
            {"addr": 7, "name": "ph_alarm", "wave": "random", "probability": 0.02, "description": "pH 異常警報"}
        ],
        "input_registers": [
            {"addr": 0, "name": "flow_sensor_1", "wave": "random_walk", "min": 100, "max": 500, "step": 20, "description": "流量感測器 1"},
            {"addr": 1, "name": "pressure_sensor", "wave": "random_walk", "min": 200, "max": 400, "step": 10, "description": "壓力感測器"}
        ],
        "discrete_inputs": [
            {"addr": 0, "name": "emergency_stop", "wave": "fixed", "value": false, "description": "緊急停止按鈕"},
            {"addr": 1, "name": "door_sensor", "wave": "fixed", "value": true, "description": "櫃門感測器"}
        ]
    },
    "s7": {
        "db": {
            "1": {
                "0": {"type": "INT", "wave": "random_walk", "min": 100, "max": 500, "step": 20, "name": "inlet_flow"},
                "2": {"type": "INT", "wave": "random_walk", "min": 95, "max": 490, "step": 20, "name": "outlet_flow"},
                "4": {"type": "INT", "wave": "sawtooth", "min": 0, "max": 100, "period": 600, "name": "tank_level"},
                "6": {"type": "INT", "wave": "random_walk", "min": 650, "max": 750, "step": 5, "name": "ph_x100"},
                "8": {"type": "INT", "wave": "random_walk", "min": 0, "max": 50, "step": 5, "name": "turbidity"},
                "10": {"type": "INT", "wave": "random_walk", "min": 50, "max": 150, "step": 5, "name": "chlorine_x100"},
                "12": {"type": "INT", "wave": "sine", "min": 150, "max": 300, "period": 43200, "name": "water_temp_x10"},
                "14": {"type": "INT", "wave": "random_walk", "min": 200, "max": 400, "step": 10, "name": "inlet_pressure"},
                "16": {"type": "INT", "wave": "random_walk", "min": 180, "max": 380, "step": 10, "name": "outlet_pressure"},
                "18": {"type": "INT", "wave": "random_walk", "min": 200, "max": 800, "step": 30, "name": "conductivity"}
            }
        },
        "m": {
            "0": {"type": "BYTE", "wave": "status_flags"},
            "10": {"type": "BYTE", "wave": "counter"}
        }
    }
}

